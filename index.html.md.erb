---
title: Pivotal Compliance Scanner
owner: Pivotal Compliance and Innovation (PCI) Team
---
<strong><%= modified_date %></strong>

<%= partial '../../compliance/partials/branding-change'%>
<%= partial '../../compliance/partials/pcf-name-change'%>

<p class="note"><%= vars.product_full %> is certified by the Center for Internet Security (CIS).
For more information about all the versions certified for CIS Benchmarks, see
the <a href="https://www.cisecurity.org/partner/pivotal/"> Pivotal - Certified Products</a> CIS page.</p>

<%= vars.product_full %> provides platform operators and auditors an
assessment of each <%= vars.platform_name %> Linux VM running on Xenial stemcells and,
if it is compliant, with configuration guidelines.

The following VM types on an <%= vars.ops_manager_full %> instance are skipped for scanning
and do not have Compliance Scanner deployed on them:

  * Linux VMs running on Trusty stemcells
  * Non-Linux VMs


## <a id='overview'></a>Overview
Benchmarks for existing commercial configuration scanners are intended for use against
traditional Ubuntu servers. This means that running these benchmark scans against
a stemcell results in numerous false positives.

<%= vars.product_short %> addresses this issue by tuning industry-recognized
Ubuntu configuration benchmarks for stemcells.

<%= vars.product_short %> packages the following files for deployment on each BOSH-managed Linux VM:

  * The OpenSCAP (OSCAP) scanner
  * XFiles: A group of YAML files that contains configuration tests written in YAML.
  * The XCCDF Generator (XGen): This translates XFiles tests to the SCAP format.

<%= vars.product_short %> is installed through <%= vars.ops_manager %>.
As part of the installation, it deploys each packaged component to each <%= vars.platform_name %> Linux VM
and instantiates a new Linux VM, `oscap_store`, for log retrieval.

Scans are errands that are triggered through <%= vars.ops_manager %>.
After a successful scan, operators can retrieve reports through the tile.
Operators can download these reports to their local machine.

For more information on the tests, test coverage, and test criteria covered by these benchmarks,
see the PDF files included on the [<%= vars.product_short %>](https://network.pivotal.io/products/p-compliance-scanner/)
release page on Pivotal Network.

## <a id='features'></a>Key Features
<%= vars.product_short %> includes the following key features:

* CIS certification
* Compatible with DISA STIG Viewer v2.9
* Modified version of industry-recognized configuration benchmarks tuned for stemcells
* Bundled tests written in YAML, allowing for easier readability
* Reports of scan results for each Linux VM in the <%= vars.platform_name %> deployment that
  highlight the compliance posture


## <a id="snapshot"></a>Product Snapshot
The following table provides version and version-support information about
<%= vars.product_short %>.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Tile version</td>
        <td>1.2.16</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>October 28, 2019</td>
    </tr>
    <tr>
        <td>Software component version</td>
        <td>OpenSCAP 1.3.1</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.ops_manager %> version(s)</td>
        <td>2.5, 2.6, 2.7, and 2.8</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.app_runtime_full %> version(s)</td>
        <td>2.5, 2.6, 2.7, and 2.8</td>
    </tr>
    <tr>
        <td>IaaS support</td>
        <td>AWS, Azure, GCP, and vSphere</td>
    </tr>
    <tr>
        <td>IPsec support</td>
        <td>Yes</td>
    </tr>
</table>

## <a id="ports"></a> Ports

<%= vars.product_short %> uses the following ports:

<table>
  <tr>
    <th width="15%">VM Type</th>
    <th width="70%">Description</th>
    <th width="15%">Port</th>
  </tr>
  <tr>
    <td>oscap_store</td>
    <td>The port used by <code>oscap_store</code> to receive the scan results from VMs with <%= vars.product_short %>.
      The <code>oscap_store</code> VM initiates scan requests to other VMs and aggregates the results.</td>
    <td><code>28894</code></td>
  </tr>
  <tr>
    <td>VM with <%= vars.product_short %></td>
    <td>The port used by the scanning server running on each of the VMs with <%= vars.product_short %> installed.
     This starts the scan on the VM through the daemon client using the <code>rpc_port</code>.</td>
    <td><code>28893</code></td>
  </tr>
  <tr>
    <td>VM with <%= vars.product_short %></td>
    <td>The port bound to the loopback interface.
      The scanning server that receives the request passes the request to the RPC server using the port that is 
      doing the scan.</td>
    <td><code>28895</code></td>
  </tr>
</table>

## <a id="limitations"></a>Limitations

<%= vars.product_short %> has the following limitations:

* Because of stemcell-related customization, benchmarks are not certified by a governing body.

* Windows VMs are not supported at this time.

* BOSH DNS cannot resolve the `oscap_store` VM URL if there is any capitalization in the network name.

<p class="note"><strong>Note:</strong> <%= vars.product_short %> can only scan Linux VMs running on Xenial
stemcells 97.x and 170.x and later.</p>


## <a id="feedback"></a>Feedback

Please provide any bugs, feature requests, or questions to the
[Pivotal Platform Feedback list](mailto:pivotal-cf-feedback@pivotal.io).
